(this["webpackJsonparweave-id-v2-ui"]=this["webpackJsonparweave-id-v2-ui"]||[]).push([[7],{129:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),i=n(26),s=n.n(i),c=(n(71),n(30)),l=n(2),u=n.n(l),d=n(6),p=n(11),m=n(4),f=(n(76),n(64)),v=n.n(f),y=n(29),b=v.a.init({host:"arweave.net",port:443,protocol:"https"}),j=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=t.target.files[0],o=new FileReader;o.onload=Object(d.a)(u.a.mark((function t(){var a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.parse(o.result),t.next=4,b.wallets.jwkToAddress(r);case 4:return a=t.sent,t.next=7,Object(y.get)(a,b);case 7:i=t.sent,console.log(i),e({address:a,arweaveId:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n();case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),o.onerror=n,o.readAsText(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return alert("need to load jwk first"),e.abrupt("return");case 3:return console.log("Setting data:.."),console.log(t),e.next=7,Object(y.set)(t,r,b);case 7:return n=e.sent,console.log(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return'query {\n\t\ttransactions(tags: [{name: "App-Name", value: "arweave-id"},{name: "App-Version", value:"0.0.2"}]) {\n\t\t  id\n\t\t  tags{name value}\n\t\t}\n\t  }',e.t0=Object,e.next=4,b.arql({query:'query {\n\t\ttransactions(tags: [{name: "App-Name", value: "arweave-id"},{name: "App-Version", value:"0.0.2"}]) {\n\t\t  id\n\t\t  tags{name value}\n\t\t}\n\t  }'});case 4:return e.t1=e.sent,t=e.t0.assign.call(e.t0,e.t1),n=t.data.transactions,r=n.map((function(e){return e.tags.filter((function(e){return"Name"===e.name}))[0].value})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=n(34),w=n(32),E=function(){return o.a.createElement(m.h,null,o.a.createElement(m.q,{style:k},o.a.createElement(m.p,null," ArweaveID V2")))},k={display:"flex",textAlign:"center"},O=function(){return o.a.createElement(m.f,null,"footer with links and reference to arca n arweave, etc.. bounty for using arwewave-id-v2 in your app?")},_=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.target.files[0];r.size>1048576&&n("File is is too big: "+r.size);var a=new FileReader;a.onload=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r=a.result,e(r)}catch(o){n()}case 1:case"end":return t.stop()}}),t)}))),a.onerror=n,a.readAsDataURL(r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=n(33),C=n.n(A),S=function(){var e=Object(a.useState)(!0),t=Object(p.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)("xxxxxxxxxxx"),s=Object(p.a)(i,2),l=s[0],f=s[1],v=Object(a.useState)(""),b=Object(p.a)(v,2),k=b[0],A=b[1],S=Object(a.useState)(""),R=Object(p.a)(S,2),F=R[0],q=R[1],B=Object(a.useState)(""),J=Object(p.a)(B,2),M=J[0],V=J[1],H=Object(a.useState)(),Y=Object(p.a)(H,2),$=Y[0],G=Y[1],K=Object(a.useState)(),Q=Object(p.a)(K,2),X=Q[0],Z=Q[1],ee=Object(a.useState)(!1),te=Object(p.a)(ee,2),ne=te[0],re=te[1],ae=Object(a.useState)(),oe=Object(p.a)(ae,2),ie=oe[0],se=oe[1],ce=Object(a.useState)(!1),le=Object(p.a)(ce,2),ue=le[0],de=le[1],pe=Object(a.useState)(),me=Object(p.a)(pe,2),fe=me[0],ve=me[1],ye=Object(a.useState)(!1),be=Object(p.a)(ye,2),je=be[0],he=be[1],ge=Object(a.useRef)(null),xe=Object(a.useRef)(null);Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,se(t),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){(null===$||void 0===$?void 0:$.name)===k&&(null===$||void 0===$?void 0:$.text)===M&&(null===$||void 0===$?void 0:$.url)===F&&(null===$||void 0===$?void 0:$.avatarDataUri)===X?r(!0):r(!1)}),[k,M,F,X,$,n]);var we=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(""),Z(""),e.prev=2,e.next=5,j(t);case 5:n=e.sent,a=n.arweaveId,f(n.address),A(a.name),a.text&&V(a.text),a.url&&q(a.url),void 0!==a.avatarDataUri&&Z(null===a||void 0===a?void 0:a.avatarDataUri),console.log("received data"),console.log(n.arweaveId),G(a),r(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),r(!0),f("Error: Unable to load wallet"),console.log("no data received");case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t);case 3:n=e.sent,Z(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(e){e.current&&e.current.click()},Oe=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),de(!0),ve(o.a.createElement(m.c,{style:{padding:"10px",borderRadius:"15px",textAlign:"center",width:"200px"}},o.a.createElement(m.n,{name:"dots"}))),t={name:k,url:F,text:M},void 0!==X&&(t.avatarDataUri=X),e.next=7,h(t);case 7:202===(null===(n=e.sent)||void 0===n?void 0:n.statusCode)?ve(o.a.createElement(m.c,{color:"primary",style:{padding:"10px",borderRadius:"15px",textAlign:"center",width:"200px"}},o.a.createElement("label",null,"ArweaveID submitted successfully. ",o.a.createElement("br",null)," See transaction",o.a.createElement("a",{href:"https://viewblock.io/arweave/tx/"+n.txid,target:"blank"}," here")))):ve(o.a.createElement(m.c,{color:"danger",style:{padding:"10px",borderRadius:"15px",textAlign:"center",width:"200px"}},o.a.createElement("label",null,"Error: ",null===n||void 0===n?void 0:n.statusMessage)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(m.a,null,o.a.createElement(E,null),o.a.createElement(m.e,null,o.a.createElement(m.g,{style:W},o.a.createElement(m.d,{style:{padding:"4px"}},o.a.createElement(m.m,{style:{flexDirection:"row"}},o.a.createElement(C.a,{isOpen:je,position:"bottom",content:o.a.createElement(m.c,{color:"primary",style:{padding:"5px",borderRadius:"15px"}},"Copied")},o.a.createElement(m.j,{onClick:function(){navigator.clipboard.writeText(l).then((function(){he(!0),setTimeout((function(){return he(!1)}),1500)}))},lines:"none"},o.a.createElement(m.k,{style:L},"Wallet: ",l.substr(0,4)+"..."+l.substr(l.length-4)))),o.a.createElement(m.b,{size:"small",shape:"round",color:"secondary",fill:"outline",onClick:function(){return ke(ge)},style:{marginTop:"12px"}},o.a.createElement("label",{style:D,title:"Load Your Arweave Wallet"},"import"),o.a.createElement("input",{id:"myloadjson",type:"file",ref:ge,onChange:we,style:U})))),o.a.createElement(m.j,{lines:"none",style:{flexShrink:0}},o.a.createElement(m.b,{shape:"round",size:"default",onClick:function(){var e=Object(y.getIdenticon)(k);Z("".concat(e))},disabled:""===k},o.a.createElement("label",{style:D,title:"generate avatar"},"generate avatar"))),o.a.createElement(m.c,{onClick:function(){return ke(xe)},style:Object(c.a)(Object(c.a)({},I),{},{backgroundImage:"url('".concat(X,"')")})},!X&&P(),o.a.createElement("input",{id:"avatarinput",type:"file",ref:xe,accept:"image/*",onChange:Ee,style:U})),o.a.createElement(m.l,{style:N},o.a.createElement(m.j,{lines:"none",style:{border:"0px solid white"}},o.a.createElement(w.Icon,{path:x.b,size:1}),o.a.createElement(C.a,{isOpen:ne,position:"bottom",content:o.a.createElement(m.c,{color:"danger",style:{padding:"10px"}},"Name Not Available")},o.a.createElement(m.i,{placeholder:"What's your name?",value:k,onIonChange:function(e){return function(e){A(e.detail.value.trim()),(null===$||void 0===$?void 0:$.name)!==e.detail.value&&(null===ie||void 0===ie?void 0:ie.includes(e.detail.value))?(re(!0),r(!0)):(re(!1),r(!1))}(e)},onFocus:function(){return re(!1)},style:z}))),o.a.createElement(m.j,{lines:"none"},o.a.createElement(w.Icon,{path:x.c,size:1}),o.a.createElement(m.i,{placeholder:"What's your web address?",value:F,onIonChange:function(e){return q(e.detail.value)},style:z})),o.a.createElement(m.j,{lines:"none"},o.a.createElement(w.Icon,{path:x.a,size:1,style:{marginTop:"10px"}}),o.a.createElement(m.o,{placeholder:"Tell us about yourself",value:M,onIonChange:function(e){return V(e.detail.value)},style:z}))),o.a.createElement(m.m,{style:{justifyContent:"end"}},o.a.createElement(C.a,{isOpen:ue,position:"bottom",content:fe},o.a.createElement(m.b,{onClick:Oe,disabled:n||""===k,shape:"round",style:T},"save"))))),o.a.createElement(O,null))},W={height:"100%",display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"#F7F7F7"},I={width:"100%",height:"100%",maxHeight:"300px",maxWidth:"300px",overflow:"hidden",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover",textAlign:"center",borderRadius:"50%",flexShrink:0,border:"1px solid #707070",boxShadow:"none"},R={position:"relative",bottom:"10%",right:"10%",cursor:"pointer",backgroundColor:"rgba(255, 255, 255, 0.5)",borderRadius:"5px"},D={cursor:"pointer",padding:"10px",textTransform:"none"},T={cursor:"pointer",padding:"10px",textTransform:"none",position:"relative",left:"100%"},U={visibility:"hidden",position:"absolute",left:0,top:0,width:"0px",height:"0px"},F={height:"200px",stroke:"#ACACAC",backgroundColor:"#F7F7F7",bottom:"-15%",right:"0%"},N={position:"relative",right:"16px",width:"360px"},z={textAlign:"left",marginLeft:"10px",border:"1px solid black"},L={overflow:"ellipsis",maxWidth:"90vw",cursor:"pointer",fontWeight:"bold"},P=function(){return o.a.createElement("svg",{style:Object(c.a)(Object(c.a)({},R),F),viewBox:"0 0 100 100"},o.a.createElement("line",{x1:"32.5",y1:"50",x2:"67.5",y2:"50",strokeWidth:"5"}),o.a.createElement("line",{x1:"50",y1:"32.5",x2:"50",y2:"67.5",strokeWidth:"5"}))},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(o.a.createElement(S,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/arweave-id-v2-ui",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/arweave-id-v2-ui","/service-worker.js");q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(t,e)}))}}()},66:function(e,t,n){e.exports=n(129)},71:function(e,t,n){},73:function(e,t,n){var r={"./ion-action-sheet-ios.entry.js":[133,11],"./ion-action-sheet-md.entry.js":[134,12],"./ion-alert-ios.entry.js":[135,13],"./ion-alert-md.entry.js":[136,14],"./ion-app_8-ios.entry.js":[137,15],"./ion-app_8-md.entry.js":[138,16],"./ion-avatar_3-ios.entry.js":[139,33],"./ion-avatar_3-md.entry.js":[140,34],"./ion-back-button-ios.entry.js":[141,35],"./ion-back-button-md.entry.js":[142,36],"./ion-backdrop-ios.entry.js":[143,77],"./ion-backdrop-md.entry.js":[144,78],"./ion-button_2-ios.entry.js":[145,37],"./ion-button_2-md.entry.js":[146,38],"./ion-card_5-ios.entry.js":[147,39],"./ion-card_5-md.entry.js":[148,40],"./ion-checkbox-ios.entry.js":[149,41],"./ion-checkbox-md.entry.js":[150,42],"./ion-chip-ios.entry.js":[151,43],"./ion-chip-md.entry.js":[152,44],"./ion-col_3.entry.js":[153,79],"./ion-datetime_3-ios.entry.js":[154,21],"./ion-datetime_3-md.entry.js":[155,22],"./ion-fab_3-ios.entry.js":[156,45],"./ion-fab_3-md.entry.js":[157,46],"./ion-img.entry.js":[158,80],"./ion-infinite-scroll_2-ios.entry.js":[159,81],"./ion-infinite-scroll_2-md.entry.js":[160,82],"./ion-input-ios.entry.js":[161,47],"./ion-input-md.entry.js":[162,48],"./ion-item-option_3-ios.entry.js":[163,49],"./ion-item-option_3-md.entry.js":[164,50],"./ion-item_8-ios.entry.js":[165,51],"./ion-item_8-md.entry.js":[166,52],"./ion-loading-ios.entry.js":[167,53],"./ion-loading-md.entry.js":[168,54],"./ion-menu_3-ios.entry.js":[169,55],"./ion-menu_3-md.entry.js":[170,56],"./ion-modal-ios.entry.js":[171,17],"./ion-modal-md.entry.js":[172,18],"./ion-nav_2.entry.js":[173,29],"./ion-popover-ios.entry.js":[174,19],"./ion-popover-md.entry.js":[175,20],"./ion-progress-bar-ios.entry.js":[176,57],"./ion-progress-bar-md.entry.js":[177,58],"./ion-radio_2-ios.entry.js":[178,59],"./ion-radio_2-md.entry.js":[179,60],"./ion-range-ios.entry.js":[180,61],"./ion-range-md.entry.js":[181,62],"./ion-refresher_2-ios.entry.js":[182,23],"./ion-refresher_2-md.entry.js":[183,24],"./ion-reorder_2-ios.entry.js":[184,31],"./ion-reorder_2-md.entry.js":[185,32],"./ion-ripple-effect.entry.js":[186,83],"./ion-route_4.entry.js":[187,63],"./ion-searchbar-ios.entry.js":[188,64],"./ion-searchbar-md.entry.js":[189,65],"./ion-segment_2-ios.entry.js":[190,66],"./ion-segment_2-md.entry.js":[191,67],"./ion-select_3-ios.entry.js":[192,68],"./ion-select_3-md.entry.js":[193,69],"./ion-slide_2-ios.entry.js":[194,84],"./ion-slide_2-md.entry.js":[195,85],"./ion-spinner.entry.js":[196,27],"./ion-split-pane-ios.entry.js":[197,86],"./ion-split-pane-md.entry.js":[198,87],"./ion-tab-bar_2-ios.entry.js":[199,70],"./ion-tab-bar_2-md.entry.js":[200,71],"./ion-tab_2.entry.js":[201,30],"./ion-text.entry.js":[202,72],"./ion-textarea-ios.entry.js":[203,73],"./ion-textarea-md.entry.js":[204,74],"./ion-toast-ios.entry.js":[205,75],"./ion-toast-md.entry.js":[206,76],"./ion-toggle-ios.entry.js":[207,25],"./ion-toggle-md.entry.js":[208,26],"./ion-virtual-scroll.entry.js":[209,88]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=73,e.exports=a},75:function(e,t,n){var r={"./ion-icon.entry.js":[211,91]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=75,e.exports=a}},[[66,9,10]]]);
//# sourceMappingURL=main.3c090c02.chunk.js.map